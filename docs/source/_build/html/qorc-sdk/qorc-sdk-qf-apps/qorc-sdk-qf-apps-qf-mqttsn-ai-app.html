

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickfeather AI Application Project &mdash; QORC-SDK  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="QORC Voice Recognition apps" href="../qorc-sdk-qf-vr-apps/qorc-sdk-qf-vr-apps.html" />
    <link rel="prev" title="QuickFeather Flash Loader Application (UART)" href="qorc-sdk-qf-apps-qf-loadflash-uart.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/qorc_whitebg.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../qorc-setup/qorc-setup.html">Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../qorc-sdk.html">QORC-SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../qorc-sdk-hal/qorc-sdk-hal.html">QORC-SDK HAL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qorc-sdk-libraries/qorc-sdk-libraries.html">QORC-SDK Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qorc-sdk-s3-gateware/qorc-sdk-s3-gateware.html">QORC-SDK EOS S3 FPGA Designs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="qorc-sdk-qf-apps.html">QuickFeather Applications</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-helloworldsw.html">QuickFeather Hello World (Cortex M4) Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-helloworldhw.html">QuickFeather Hello World (Cortex M4 + FPGA) Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-fpgauart-app.html">QuickFeather FPGA UART Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-gwtestharness.html">QuickFeather Gateware Test Harness Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-bootloader-uart.html">QuickFeather Bootloader Application (UART)</a></li>
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-loadflash.html">QuickFeather Flash Loader Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="qorc-sdk-qf-apps-qf-loadflash-uart.html">QuickFeather Flash Loader Application (UART)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Quickfeather AI Application Project</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-and-running-the-project">Building and running the project:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-with-an-ad7476-adc-module">Using with an AD7476 ADC module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mqtt-sn-over-usb-serial-notes">MQTT-SN over USB-serial Notes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../qorc-sdk-qf-vr-apps/qorc-sdk-qf-vr-apps.html">QORC Voice Recognition apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qorc-sdk-qorc-test-apps/qorc-sdk-qorc-test-apps.html">QORC Test Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qorc-example-apps/qorc-example-apps.html">QORC Example Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ql-symbiflow/ql-symbiflow.html">QuickLogic FPGA Toolchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ql-development-boards/ql-development-boards.html">QuickLogic Development Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ql-eos-s3/ql-eos-s3.html">QuickLogic EOS S3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ql-faq/ql-faq.html">FAQ</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QORC-SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../qorc-sdk.html">QORC-SDK</a> &raquo;</li>
        
          <li><a href="qorc-sdk-qf-apps.html">QuickFeather Applications</a> &raquo;</li>
        
      <li>Quickfeather AI Application Project</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/qorc-sdk/qorc-sdk-qf-apps/qorc-sdk-qf-apps-qf-mqttsn-ai-app.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quickfeather-ai-application-project">
<h1>Quickfeather AI Application Project<a class="headerlink" href="#quickfeather-ai-application-project" title="Permalink to this headline">¶</a></h1>
<p>This demo project performs SensiML data collection and recognition tasks
for the Quickfeather platform using QORC-SDK. (Refer:
<a class="reference external" href="https://github.com/QuickLogic-Corp/qorc-sdk">https://github.com/QuickLogic-Corp/qorc-sdk</a>)</p>
<p>An AD7476 Analog-to-digital converter (ADC) is added to this project.
The project uses ADC FPGA IP design from
<a class="reference external" href="https://github.com/QuickLogic-Corp/s3-gateware">s3-gateware</a>.
Communication interface for MQTT-SN messages uses the ASSP UART
interface.</p>
<p>Audio data capture and inference feature added to this project. To
enable live-streaming 1-channel audio data captured at &#64;16kHz sampling
rate, 921600bps baudrate is used for the ASSP UART interface.</p>
<div class="section" id="building-and-running-the-project">
<h2>Building and running the project:<a class="headerlink" href="#building-and-running-the-project" title="Permalink to this headline">¶</a></h2>
<p>The project supports either collection or recognition modes. Select the
desired mode by updating the macro S3AI_FIRMWARE_MODE in
Fw_global_config.h.</p>
<ol class="arabic simple">
<li><p>Use the provided Makefile in qf_mqttsn_ai_app/GCC_Project folder and
appropriate ARM GCC toolchain to build the project</p></li>
<li><p>Use the flash programming procedure to flash the binary to
Quickfeather board.</p></li>
<li><p>Reset the board to start running the AI application.</p></li>
</ol>
<p>For data collection, building an AI model, and recognition please refer
to <a class="reference external" href="https://sensiml.com/documentation/firmware/quicklogic-quickfeather/quicklogic-quickfeather.html">SensiML
QF</a>
and <a class="reference external" href="https://sensiml.com/documentation/guides/getting-started/index.html">SensiML Getting
Started</a></p>
</div>
<div class="section" id="using-with-an-ad7476-adc-module">
<h2>Using with an AD7476 ADC module<a class="headerlink" href="#using-with-an-ad7476-adc-module" title="Permalink to this headline">¶</a></h2>
<p>Connect a
<a class="reference external" href="https://reference.digilentinc.com/reference/pmod/pmodad1/start">PmodAD1</a>
module to the quickfeather using the following pinout</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 54%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>PmodAD1 module</p></th>
<th class="head"><p>Quickfeather</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>CS</p></td>
<td><p>J8.5</p></td>
</tr>
<tr class="row-odd"><td><p>D0</p></td>
<td><p>J8.9</p></td>
</tr>
<tr class="row-even"><td><p>CLK</p></td>
<td><p>J8.11</p></td>
</tr>
<tr class="row-odd"><td><p>GND</p></td>
<td><p>J8.13</p></td>
</tr>
<tr class="row-even"><td><p>Vcc</p></td>
<td><p>J8.15</p></td>
</tr>
</tbody>
</table>
<p>Connect desired sensor to the A0 pin on the PmodAD1 module.</p>
<p>Reset the Quickfeather board to start running the AI application. Refer
<a class="reference external" href="https://sensiml.com/documentation/firmware/quicklogic-quickfeather/quicklogic-quickfeather.html">SensiML
QF</a>
to collect data or get inferences from this connected sensor.</p>
</div>
<div class="section" id="mqtt-sn-over-usb-serial-notes">
<h2>MQTT-SN over USB-serial Notes<a class="headerlink" href="#mqtt-sn-over-usb-serial-notes" title="Permalink to this headline">¶</a></h2>
<p>The MQTT-SN SensiML AI application may be configured to use FPGA
USB-serial IP to send and receive message over USB-serial cable provided
this FPGA IP is not used for other purposes such as ADC AD7476 IP used
for ADC sensor. The USB transmit FIFO will hold the outgoing data bytes
until a host terminal application starts draining this data. According
as the MQTT-SN protocol, the application attempts to send CONNECT
messages at regular intervals until it receives a response for these
messages. To avoid queueing up multiple CONNECT messages in the transmit
FIFO which may cause the USB transmit function to enter busy-wait state
when the FIFO fills-up, this application sends CONNECT messages only if
the FIFO is empty.</p>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../qorc-sdk-qf-vr-apps/qorc-sdk-qf-vr-apps.html" class="btn btn-neutral float-right" title="QORC Voice Recognition apps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="qorc-sdk-qf-apps-qf-loadflash-uart.html" class="btn btn-neutral float-left" title="QuickFeather Flash Loader Application (UART)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, QuickLogic Corp

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>